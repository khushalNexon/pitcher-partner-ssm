import{r as m,u as g}from"./index-189ad134.js";import{a as u}from"./DataGrid-d3a715dd.js";const d=async({clientId:r,payload:s})=>{try{return(await u.post(`/clients/${r}/employees?code=QmJRCuciMZgSckGPDsq1DisKqO38pFYBdoTlBDg6Tz0sAzFuy0GZZw==`,s)).data}catch(t){throw console.error("Error fetching data:",t),Error(t.message||"Something went wrong")}},h=async({clientId:r})=>{try{return(await u.get(`/clients/${r}/getemployees?code=QmJRCuciMZgSckGPDsq1DisKqO38pFYBdoTlBDg6Tz0sAzFuy0GZZw==`)).data}catch(s){throw console.error("Error fetching data:",s),Error(s.message||"Something went wrong")}},w=({id:r})=>{const[s,t]=m.useState([]),[E,c]=m.useState(!0),[p,a]=m.useState(null),{openSnackbar:l}=g(),y=async({clientId:n})=>{try{return c(!0),(await h({clientId:n})).result}catch(e){return e.message||"An error occurred"}finally{c(!1)}};return m.useEffect(()=>{const n=(r==null?void 0:r.split("_")[1])??r;y({clientId:n}).then(e=>t(e)).catch(e=>{t([]),a(e)})},[r]),{employees:s,loading:E,error:p,createEmployee:async({clientId:n,payload:e})=>{try{c(!0);const o=await d({clientId:n,payload:e}),i=[...s,{EmployeeID:`employee_${e.EmployeeABNNo}`,shareOptions:[],ClientID:e.ClientID,EmployeeFullName:e.EmployeeFullName,EmployeeEmail:e.EmployeeEmail,EmployeeABNNo:e.EmployeeABNNo,EmployeeAddressLine1:e.EmployeeAddressLine1,EmployeeAddressLine2:(e==null?void 0:e.EmployeeAddressLine2)??"",EmployeeTFNNo:e.EmployeeTFNNo}];return t(i),l(o.result,"success"),o.result}catch(o){return a(o.message||"An error occurred"),l(o.message,"error"),o.message||"An error occurred"}finally{c(!1)}}}},D=w;export{D as u};
